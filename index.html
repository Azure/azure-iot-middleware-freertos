<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Azure IoT Middleware for FreeRTOS: Azure IoT Middleware for FreeRTOS</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Azure IoT Middleware for FreeRTOS
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Azure IoT Middleware for FreeRTOS </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a href="https://github.com/Azure/azure-iot-middleware-freertos/actions/workflows/ci_tests_linux.yml"><object type="image/svg+xml" data="https://github.com/Azure/azure-iot-middleware-freertos/actions/workflows/ci_tests_linux.yml/badge.svg" style="pointer-events: none;">Linux CI Tests</object></a></p>
<p><b>THIS REPO IS IN ACTIVE DEVELOPMENT AND NOT GA READY. APIS ARE SUBJECT TO CHANGE WITHOUT NOTICE UNTIL AN OFFICIAL RELEASE HAS BEEN PUBLISHED.</b></p>
<p>The Azure IoT Middleware for FreeRTOS simplifies the connection of devices running FreeRTOS to Azure IoT services. It builds on top of the <a href="https://github.com/Azure/azure-sdk-for-c">Azure SDK for Embedded C</a> and adds MQTT client support. Below are key points of this project:</p>
<ul>
<li>The Azure IoT Middleware for FreeRTOS operates at the MQTT level. Establishing the MQTT connection, subscribing and unsubscribing from topics, sending and receiving of messages, and disconnections are issued by the customer and handled by the SDK.</li>
<li>Customers control the TLS/TCP connection to the endpoint. This allows for flexibility between software or hardware implementations of either. For porting, please see the <a href="#porting">porting</a> section below.</li>
<li>No background threads are created by the Azure IoT Middleware for FreeRTOS. Messages are sent and received synchronously.</li>
<li>Retries with backoff are handled by the customer. FreeRTOS makes use of their own backoff and retry logic which customers are free to use (we demo this in our samples).</li>
</ul>
<h1><a class="anchor" id="autotoc_md1"></a>
Repo Structure</h1>
<p>Main branch contains API's and tests. For the most cutting edge developments, please see the <code>sdk_spike</code> branch <a href="https://github.com/Azure/azure-iot-middleware-freertos/tree/sdk_spike">here</a>. There we have samples for several devices including:</p>
<ul>
<li>STM32L475</li>
<li>STM32L4+</li>
<li>STM32H745</li>
<li>NXP RT1060</li>
<li>Linux</li>
<li>Windows</li>
</ul>
<h1><a class="anchor" id="autotoc_md2"></a>
Code Style</h1>
<p>This repository uses <code>uncrustify</code> to enforce coding style. The config in the root (<code>uncrustify.cfg</code>) is the same as in the FreeRTOS repo.</p>
<p>Note that different versions of <code>uncrustify</code> can produce differently rendered files. For that reason, just as the FreeRTOS repo has declared, we use version 0.67 of <code>uncrustify</code>. For installation instructions for <code>uncrustify</code>, please see their repo <a href="https://github.com/uncrustify/uncrustify">here</a>. Once you have that installed, you can make sure your contributions are rendered correctly by running our uncrustify script:</p>
<div class="fragment"><div class="line"># From the repo root</div>
<div class="line">./.github/scripts/code_style.sh fix</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md3"></a>
Building</h1>
<p>This repository uses <code>CMake</code> to build. To integrate into your project, it requires three paths. You can set these either in the configuration step of CMake with a <code>-D</code> or add them as cache variables in your CMake.</p>
<ul>
<li><code>FREERTOS_DIRECTORY</code>: Full path to a directory which contains FreeRTOS (<a href="https://github.com/FreeRTOS/FreeRTOS">as set up on GitHub</a>).</li>
<li><code>FREERTOS_PORT_DIRECTORY</code>: The full path to the freertos port that you would like to use. On GitHub you can find <a href="https://github.com/FreeRTOS/FreeRTOS-Kernel/tree/main/portable">the list here</a>. Locally, if you initialize the FreeRTOS submodules, you can find the options in <code>&lt;FREERTOS_DIRECTORY&gt;/FreeRTOS/Source/portable</code></li>
<li><code>CONFIG_DIRECTORY</code>: The full path which has the following files: <code>FreeRTOSConfig.h</code>, <code>azure_iot_config.h</code>, and <code>core_mqtt_config.h</code>.</li>
</ul>
<p>With those options added, the following CMake target will be available to integrate into your project:</p>
<ul>
<li><code>az::iot_middleware::freertos</code></li>
</ul>
<h1><a class="anchor" id="autotoc_md4"></a>
Contributing</h1>
<p>This project welcomes contributions and suggestions. Most contributions require you to agree to a Contributor License Agreement (CLA) declaring that you have the right to, and actually do, grant us the rights to use your contribution. For details, visit <a href="https://cla.opensource.microsoft.com">https://cla.opensource.microsoft.com</a>.</p>
<p>When you submit a pull request, a CLA bot will automatically determine whether you need to provide a CLA and decorate the PR appropriately (e.g., status check, comment). Simply follow the instructions provided by the bot. You will only need to do this once across all repos using our CLA.</p>
<p>This project has adopted the <a href="https://opensource.microsoft.com/codeofconduct/">Microsoft Open Source Code of Conduct</a>. For more information see the <a href="https://opensource.microsoft.com/codeofconduct/faq/">Code of Conduct FAQ</a> or contact <a href="#" onclick="location.href='mai'+'lto:'+'ope'+'nc'+'ode'+'@m'+'icr'+'os'+'oft'+'.c'+'om'; return false;">opencode@microsoft.com</a> with any additional questions or comments.</p>
<h1><a class="anchor" id="autotoc_md5"></a>
Trademarks</h1>
<p>This project may contain trademarks or logos for projects, products, or services. Authorized use of Microsoft trademarks or logos is subject to and must follow <a href="https://www.microsoft.com/en-us/legal/intellectualproperty/trademarks/usage/general">Microsoft's Trademark &amp; Brand Guidelines</a>. Use of Microsoft trademarks or logos in modified versions of this project must not cause confusion or imply Microsoft sponsorship. Any use of third-party trademarks or logos are subject to those third-party's policies. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
